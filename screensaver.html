<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Reloj Kiosk XL</title>

<style>
:root { color-scheme: dark; }

body{
  margin:0;
  height:100vh;
  background:#000;
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  overflow:hidden;
}

/* contenedor general */
.wrap{
  width:100%;
  height:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  animation: fadeIn 1s ease-out both;
}

/* animaci√≥n entrada */
@keyframes fadeIn{
  from { opacity:0; transform: translateY(20px); }
  to { opacity:1; transform: translateY(0); }
}

/* movimiento anti quemado MUY leve */
.shift{
  animation: shift 240s ease-in-out infinite;
}
@keyframes shift{
  0%{ transform:translate(0,0); }
  25%{ transform:translate(8px,-6px); }
  50%{ transform:translate(-8px,6px); }
  75%{ transform:translate(6px,8px); }
  100%{ transform:translate(0,0); }
}

.city{
  font-size: clamp(24px, 3.5vw, 48px);
  opacity:.85;
  margin-bottom: 10px;
}

.time{
  font-size: clamp(120px, 20vw, 300px);
  font-weight: 900;
  line-height: 1;
  margin: 0;
}

.date{
  font-size: clamp(28px, 4vw, 56px);
  opacity:.85;
  margin-bottom: 40px;
}

/* tarjeta tiempo */
.card{
  width:90%;
  max-width:1100px;
  border-radius:30px;
  padding:40px 50px;
  background: rgba(255,255,255,.07);
  border:1px solid rgba(255,255,255,.18);
  backdrop-filter: blur(8px);
  animation: floaty 12s ease-in-out infinite;
}

@keyframes floaty{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(-6px); }
}

.row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
  gap:30px;
}

.big{
  font-size: clamp(56px, 6vw, 96px);
  font-weight: 800;
}

.muted{
  font-size: clamp(26px, 3vw, 42px);
  opacity:.85;
}

.kv{
  margin-top:30px;
  display:flex;
  justify-content:space-between;
  flex-wrap:wrap;
  gap:30px;
  font-size: clamp(24px, 2.8vw, 40px);
}

.footer{
  margin-top:20px;
  font-size: clamp(18px, 2vw, 28px);
  opacity:.6;
}
</style>
</head>

<body>
<div class="wrap shift">

  <div class="city">Villarrubia de los Ojos ¬∑ Espa√±a</div>
  <div id="time" class="time">--:--</div>
  <div id="date" class="date">--</div>

  <div class="card">
    <div class="row">
      <div>
        <div class="muted">Ahora</div>
        <div id="temp" class="big">--¬∞C</div>
      </div>
      <div style="text-align:right">
        <div id="desc" class="muted">Cargando tiempo‚Ä¶</div>
        <div id="today" class="muted">M√°x --¬∞ / M√≠n --¬∞</div>
      </div>
    </div>

    <div class="kv">
      <span id="wind">üí® Viento: -- km/h</span>
      <span id="rain">üåßÔ∏è Lluvia: -- mm</span>
      <span id="pop">‚òî Prob. precip.: --%</span>
    </div>

    <div id="status" class="footer">Actualizando‚Ä¶</div>
  </div>

</div>

<script>
const LAT = 39.2181;
const LON = -3.6077;
const TZ  = "Europe/Madrid";

function tickClock(){
  const now = new Date();
  document.getElementById("time").textContent =
    new Intl.DateTimeFormat("es-ES",{hour:"2-digit",minute:"2-digit",hour12:false,timeZone:TZ}).format(now);

  const d =
    new Intl.DateTimeFormat("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric",timeZone:TZ}).format(now);
  document.getElementById("date").textContent = d.charAt(0).toUpperCase()+d.slice(1);
}
setInterval(tickClock,1000); tickClock();

async function loadWeather(){
  const url = `https://api.open-meteo.com/v1/forecast?latitude=${LAT}&longitude=${LON}&timezone=Europe/Madrid&current=temperature_2m,weather_code,wind_speed_10m,precipitation&daily=temperature_2m_max,temperature_2m_min,precipitation_probability_max&forecast_days=1`;
  const r = await fetch(url);
  const d = await r.json();
  document.getElementById("temp").textContent = d.current.temperature_2m+"¬∞C";
  document.getElementById("wind").textContent = "üí® Viento: "+d.current.wind_speed_10m+" km/h";
  document.getElementById("rain").textContent = "üåßÔ∏è Lluvia: "+d.current.precipitation+" mm";
  document.getElementById("pop").textContent = "‚òî Prob. precip.: "+d.daily.precipitation_probability_max[0]+"%";
  document.getElementById("today").textContent = "M√°x "+d.daily.temperature_2m_max[0]+"¬∞ / M√≠n "+d.daily.temperature_2m_min[0]+"¬∞";
  document.getElementById("status").textContent = "Actualizado";
}
loadWeather();
setInterval(loadWeather,600000);
</script>
</body>
</html>

